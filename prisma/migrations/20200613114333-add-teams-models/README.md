# Migration `20200613114333-add-teams-models`

This migration has been generated by Aravindh Sridharan at 6/13/2020, 11:43:33 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Team" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"description" text  NOT NULL ,"id" text  NOT NULL ,"name" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."_RecordToTeam" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE UNIQUE INDEX "_RecordToTeam_AB_unique" ON "public"."_RecordToTeam"("A","B")

CREATE  INDEX "_RecordToTeam_B_index" ON "public"."_RecordToTeam"("B")

ALTER TABLE "public"."_RecordToTeam" ADD FOREIGN KEY ("A")REFERENCES "public"."Record"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_RecordToTeam" ADD FOREIGN KEY ("B")REFERENCES "public"."Team"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200609220544-initial-models..20200613114333-add-teams-models
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -17,10 +17,20 @@
     recordType         String
     timestamp          DateTime
     data               Json
     tags                Tag[]                @relation(references: [id])
+    teams               Team[]              @relation(references: [id])
+
 }
+model Team {
+    id                 String               @id @default(uuid())
+    createdAt          DateTime             @default(now())
+    updatedAt          DateTime             @updatedAt
+    name                String
+    description         String
+    records             Record[]            @relation(references: [id])
+}
 model Tag {
   id          String     @id @default(uuid())
   createdAt   DateTime   @default(now())
```


